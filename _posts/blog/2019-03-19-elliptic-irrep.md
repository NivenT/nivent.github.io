---
layout: post
title: "$\\ell$-adic Representations of Elliptic Curves"
modified:
categories: blog
excerpt:
tags: [math, irreducible, elliptic curve, galois group, representation, algebraic number theory, geometry, algebraic geometry]
date: 2019-08-12
hidden: true
toc: true
---

The title of this post is a bit of a misnomer. We won't be talking about representations of elliptic curves, but about representations attached to (associated with?) elliptic curves. In particular, the goal of this post is to prove that given an elliptic curve $E/\Q$ defined over the rationals, and a prime $\l$, the $\l$-adic representation 

$$G_{\Q}\to\GL(T_\l(E))\iso\GL_2(\Z_\l)\subset\GL_2(\Q_\l)$$ 

is irreducible where $G_{\Q}=\Gal(\Qbar/\Q)$ is the absolute Galois group of $\Q$ and $T_\l(E)=\invlim E[\l^n]$ is $E$'s $\l$-adic Tate module. If you don't know what some of these words mean, don't worry; I'll explain. [^1]

It'll be quite a while before we get into defining and proving irreducibility of these representations since doing so requires a lot of ideas I have not introduced on this blog before. To begin, we'll introduce some of the basics of the general theory of algebraic curves before focussing specifically on elliptic curves. Since I've said the word $\spec$ here before, I could set things up in those terms [^7], but I won't; instead, I'll take an approach that's more concrete. [^2] With that said, let's get started$\dots$

Note: I'm writing this post like a madman (in a rushed manner manner split over several days without much of a game plan ahead of time), so it likely contains more mistakes than usual (e.g. there may be some circular arguments here). Some time after finishing it and putting it online, I'll take another look at it and try to resolve all these issues. Until then, recovering a coherent post from what's below is left as an exercise to the reader [^8].

# Algebraic Varieties

This section is mostly definitions [^3], and so can be skipped and referred back to whenever you see something but don't know what it means.

Fix a field $k$ with algebraic closure $\bar k$. Let $\bar k[X]=\bar k[x_1,\dots,x_n]$ be a polynomial ring in $n$ variables. Let $\A^n=\A^n(\bar k)=\bracks{P=(p_1,\dots,p_n):p_i\in\bar k}$ denote <b>affine $n$-space</b> (over $\bar k$).

<div clas="definition">
    Let $I\subset\bar k[X]$ be an ideal. Its <b>vanishing set</b> is
    $$V(I)=\bracks{P\in\A^n:f(P)=0\text{ for all }f\in I}.$$
    Any set $C$ of the form $C=V(I)$ for some $I$ is called an <b>affine algebraic set</b>.
</div>
<div class="definition">
    Given any set $C\subset\A^n$, we associate to it the ideal
    $$I(C)=\bracks{f\in\bar k[X]:f(P)=0\text{ for all }P\in C}.$$
    When $C$ is an algebraic set, we see that $C$ is <b>defined over $k$</b>, denoted $C/k$, exactly when $I(C)$ can be generated by polynomials in $k[X]$; equivalently, exactly when $I(C)=I(C/K)\bar k[X]$ where $I(C/K)=I(C)\cap k[X]$.
</div>
<div class="remark">
    Let $G=G_{\bar k/k}=\Gal(\bar k/k)$ be the absolute Galois group of $k$. Then, $G$ naturally acts on $\A^n$, and because $f(P^\sigma)=f(P)^\sigma$ for any $f\in\bar k[X]$ and $\sigma\in G$, we see that $G$ even acts on algebraic sets defined over $k$.
</div>

Note that Hilbert's basis theorem tells us that $\bar k[X]$ is noetherian, so any algebraic set is given by the vanishing of only finitely many polynomials.

<div class="definition">
    When $C$ is defined over $k$, we write
    $$C(K)=C\cap\A^n(K)=\bracks{P\in C:P^\sigma=P\text{ for all }\sigma\in G_{\bar k/k}}$$
    for the set of <b>$k$-rational points</b> on $C$.
</div>
<div class="definition">
    An affine algebraic set $C/k$ is called an <b>affine variety</b> if $I(C)$ is a prime ideal in $\bar k[X]$. In this case, its <b>affine coordinate ring</b> is $k[C]=k[X]/I(C/k)$, and its <b>function field</b> is $k(C)=\Frac k[C]$.
</div>
<div class="remark">
    Note that an element $f\in\bar k[C]$ induces a well-defined function $f:C\to\bar K$ since we only killed functions vanishing along $C$. Furthermore, the action of $G_{\bar k/k}$ on $k[X]$ descends to one on $\bar k[V]$ (and $\bar k(V)$). As with points, we denote the action of $\sigma\in G_{\bar k/k}$ on $f$ by $f\mapsto f^\sigma$, so we see that
    $$(f(P))^\sigma=f^\sigma(P^\sigma)$$
    always.
</div>

That was a lot of definitions, and there are only more to come. If you haven't seen material like this before, this may be a good place to mention that my [previous post on algebraic geometry](../comm-alg) might be helpful for understanding why some of the definitions here are reasonable. For example,

<div class="definition">
    Let $V$ be a variety. Then, its <b>dimension</b> is $\dim(V)=\trdeg_{\bar k}\bar k(V)$.
</div>
<div class="example">
    If $V=\A^n$, then $I(V)=(0)$, $\bar k[V]=\bar k[X]$, and $\bar k(V)=\bar k(X)=\bar k(x_1,\dots,x_n)$, so $\dim V=n$.
</div>
<div class="example">
    If $f\in\bar k[X]$ and $V=V(f)$ is the vanishing set of a single (irreducible) nonconstant polynomial, then $\dim(V)=n-1$.
</div>
<div class="definition">
    Let $V$ be a variety, and fix some $P\in V$. Let $f_1,\dots,f_m\in\bar k[X]$ generate $I(V)$. We say that $V$ is <b>nonsingular</b> (or <b>smooth</b>) <b> at $P$</b> if the $m\by n$ matrix
    $$\parens{\pderiv{f_i}{X_j}(P)}_{1\le i\le m\atop1\le j\le n}$$
    has rank $n-\dim(V)$$. We say that $V$ is <b>nonsingular</b> (or <b>smooth</b>) if it's nonsingular at every point.
</div>
<div class="exercise">
    Let $V/k$ be a $1$-dimensional variety. Prove that $k[V]$ is a Dedekind domain when $V$ is smooth.
</div>
<div class="definition">
    Let $V$ be a variety, and fix a point $P\in V$. Consider the evaluation at $P$ homomorphism $\bar k[V]\to\bar k,f\mapsto f(P)$. Its kernel is the maximal ideal $\mfm_P$ of functions vanishing at $P$. The localization $\bar k[V]_P:=\bar k[V]_{\mfm_P}$ is call the <b>local ring of $V$ at $P$</b>. That is, elements of $\bar k[V]_P$ look like $F=f/g$ where $f,g\in\bar k[V]$ and $g(P)\neq0$. Given such an element, $F(P)=f(P)/g(P)\in\bar k$ is well-defined. Functions in $\bar k[V]_P$ are said to be <b>regular</b> (or <b>defined</b>) at $P$.
</div>

We now turn to projective algebraic sets and projective varities. <b>Projective $n$-space (over $k$)</b>, denoted $\P^n=\P^n(\bar k)$, is the set of lines through the origin in $\A^{n+1}$. Succienctly, $\P^n=(\A^{n+1}\sm\{0\})/\units{\bar k}$. More explicitly,

$$\P^n=\bracks{\sqbracks{p_0:p_1:\dots:p_n}:p_i\in\bar k}\left/\parens{\sqbracks{p_0:p_1:\dots:p_n}\sim\sqbracks{\lambda p_0:\lambda p_1:\dots:\lambda p_n}\text{ for all }\lambda\in\units{\bar k}}\right..$$

Note that $G_{\bar k/k}$ acts on $\P^n$ be acting on each coordinate individually. Since individual coordinates in projective space are not well-defined, evaluating a polynomial at a projective point doesn't make sense. However, for homogeneous polynomials, we can still check if one vanishes at a point.

<div class="definition">
    A polynomial $f\in\bar k[X]=\bar k[X_0,\dots,X_n]$ is said to be <b>homogeneous of degree $d$</b> if
    $$f(\lambda X_0,\dots,\lambda X_n)=\lambda^df(X_0,\dots,X_n)$$
    for all $\lambda\in\bar K$. Similarly, an ideal $I\subset\bar k[X]$ is <b>homogeneous</b> if it is generated by homogeneous polynomials.
</div>

Given a homogenous polynomial $f$, the answer to the question, "does $f(P)=0$?" does not depend on how we write down $P$, so we can define a vanishing set $V(f)\subset\P^n$. Similarly, we get some vanishing set $V(I)\subset\P^n$ for any homogenous ideal $I$.

<div class="definition">
    A <b>(projective) algebraic set</b> is any set of the form $C=V(I)$ for some homogeneous ideal $I\subset\bar k[X]$. If $C$ is a projective algebraic set, then its homogeneous ideal $I(C)$ is the one generated by
    $$\bracks{f\in\bar k[X]:f\text{ is homogeneous and }f(P)=0\text{ for all }P\in C}.$$
    Such a $C$ is <b>defined over $k$</b>, denoted $C/k$, if $I(C)$ can be generated by homogeneous polynomials in $k[X]$. If $C$ is defined over $k$, then its <b>$k$-rational points</b> are
    $$C(k)=C\cap\P^n(k)=\bracks{P\in C:P^\sigma=P\text{ for all }\sigma\in G_{\bar k/k}}=\bracks{[p_0:\dots:p_n]\in C:p_i\in k}.$$
</div>
<div class="example">
    A <b>line</b> in $\P^2$ is the vanishing set of a linear equation
    $$aX+bY+cZ=0$$
    where $a,b,c\in\bar k$ not all zero.
</div>
<div clas="definition">
    A projective algebraic set $C$ is called a <b>(projective) variety</b> if its homogeneous ideal $I(C)$ is prime in $\bar k[X]$.
</div>

Note that there are many ways of embedding $\A^n\subset\P^n$. For example, each set

$$U_i=\bracks{\sqbracks{p_0:\dots:p_n}\in\P^n:p_i\neq0}$$

is easily seen to be a copy of $\A^n$, e.g. via the natural bijection $\phi_i:\A^n\to U_i$ given by

$$(p_1,\dots,p_n)\mapsto\sqbracks{p_1,\dots,p_{i-1},1,p_i,\dots,p_n}.$$

Hence, given any projective algebraic set $C$ with homogeneous ideal $I(C)$ (and a choice of $i$), $\inv\phi_i(V\cap U_i)$, which we call $C\cap\A^n$, is an affine algebraic set with ideal

$$I(V\cap\A^n)=\bracks{f(Y_1,\dots,Y_{i-1},1,Y_{i+1},\dots,Y_n):f(X_0,\dots,X_n)\in I(C)}.$$

This shows that any projective algebraic set (resp. variety) is covered by a bunch of affine algebraic sets (resp. varieties) $C\cap U_0,\dots,C\cap U_n$. The process of replacing a homogeneous $f(X_0,\dots,X_n)$ with $f(Y_1,\dots,Y_{i-1},1,Y_i,\dots,Y_n)$ is called <b>dehomogenization with respect to $X_i$</b>, and can be reversed by taking $f(Y)\in\bar k[Y]=\bar k[Y_1,\dots,Y_n]$ to
$$\ast f(X_0,\dots,X_n)=X_i^{\deg f}f\parens{\frac{X_0}{X_i},\frac{X_1}{X_i},\dots,\frac{X_{i-1}}{X_i},\frac{X_{i+1}}{X_i},\dots,\frac{X_n}{X_i}},$$
the <b>homogenization of $f$ with respect to $X_i$</b>.

This let's us take an affine algebraic set $V\subset\A^n$ to its <b>projective closure</b> which is the projective algebraic set whose homogenous ideal is generated by $\bracks{\ast f(X):f\in I(V)}$. When we do this to an affine variety $V$, we get out a projective variety. Because we can move back and forth between the affine and projective worlds like this, we often make definitions on projective varieties by referring to the analagous thing on one of their affine covers. For example,

<div class="definition">
    Let $V/k$ be a projective variety, and choose $\A^n\subset\P^n$ such that $V\cap\A^n\neq\emptyset$. The <b>dimension</b> of $V$ is $\dim(V)=\dim(V\cap\A^n)$. We make similar definitions for the function field $k(V)$ of $V$, the local ring $\bar k[V]_P$ of $V$ at $P$, and the questions of whether $V$ is smooth at a point $P$ or whether a function $F\in\bar k(V)$ is regular at some $P\in V$. As an example of one of these, the <b>local ring of $V$ at $P$</b>, denoted $\bar k[V]_P$, is the local ring of $V\cap\A^n$ at $P$.
</div>

At this point, we've more-or-less laid the groundwork for what a (projective) variety is. So, the next thing would be to describe maps between them. One quirky thing about varieties is that their maps are not required to be defined everywhere. [^4]

<div class="definition">
    Let $V_1,V_2\subset\P^n$ be projective varieties. A <b>rational map</b> from $V_1$ to $V_2$ is a map of the form
    $$\phi:V_1\too V_2,\text{ }\text{ }\text{ }\phi=[f_0:\dots:f_n],$$
    where $f_i\in\bar k(V_1)$ such that for every $P\in V_1$ for which all $f_i$ are defined, we have
    $$\phi(P)=[f_0(P):\dots:f_n(P)]\in V_2.$$
    We say that $\phi$ is defined over $k$ if there exists some $\lambda\in\units{\bar k}$ s.t. $\lambda f_0,\dots,\lambda f_n\in k(V_1)$.
</div>
<div class="remark">
    We have $G_{\bar k/k}$ acting on $\phi$ in the obvious way, e.g.
    $$\phi^\sigma(P)=\sqbracks{f^\sigma_0(P):\dots:f_n^\sigma(P)}.$$
    Note that $\phi$ is defined over $k$ iff $\phi=\phi^\sigma$ for all $\sigma\in G_{\bar k/k}$.
</div>
<div class="definition">
    A rational map $\phi=[f_0:\dots:f_n]:V_1\to V_2$ is <b>regular</b> (or <b>defined</b>) at $P\in V_1$ if there is a function $g\in\bar k(V_1)$ such that
    <ol>
        <li> each $gf_i$ is regular at $P$, and </li>
        <li> there is some $i$ for which $(gf_i)(P)\neq0$. </li>
    </ol>
    When this is the case, we set
    $$\phi(P)=\sqbracks{(gf_0)(P):\dots:(gf_n)(P)}.$$
    A rational map that is regular at every point is called a <b>morphism</b>.
</div>
<div class="exercise">
    Show that we could equivalently define a rational map $\phi:V_1\to V_2$ as one of the form
    $$\phi=[\phi_0(X):\dots:\phi_n(X)]$$
    where the $\phi_i(X)\in\bar k[X]=\bar k[x_0,\dots,x_n]$ are all homogeneous of the same degree, but not all in $I(V_1)$, and
    $$f(\phi_0(X),\dots,\phi_n(X))\in I(V_1)$$
    for every $f\in I(V_2)$.
</div>
<div class="definition">
    A morphism $\phi:V_1\to V_2$ is called an <b>isomorphism</b> if there exists a morphism $\psi:V_2\to V_1$ such that $\phi\circ\psi$ and $\psi\circ\phi$ are both identity maps. We say that $V_1/k$ and $V_2/k$ are <b>isomorphic over $k$</b> if $\phi,\psi$ are both defined over $k$.
</div>

Phew. Alright, I think we can move on to the next section now. I hope you have all of this [memorized](https://www.youtube.com/watch?v=xseGkDSt8ec).

# Algebraic Curves

An <b>algebraic curve</b> is a projective variety of dimension 1. For curves, $\bar k[C]$ is nicer than just an arbitrary integral domain.

<div class="proposition">
    Let $C$ be a curve smooth at $P\in C$. Then, $\bar k[C]_P$ is a dvr.
</div>
<div class="proof4">
    You first accept the fact that $\dim_{\bar k}(\mfm_P/\mfm_P^2)=\dim C=1$ exactly when $C$ is smooth at $P$. Then, you use Nakayama's lemma to conclude that $\mfm_P$ is a principal ideal of the local ring $\bar k[C]_P$. Once you know the maximal ideal is principal, show that we have a dvr is done a la <a href="../dedekind-domain">the proof here</a> that local Dedekind domains are dvrs.
</div>
<div class="corollary">
    $\bar k[C]$ is a Dedekind domain when $C$ is a smooth curve.
</div>
<div class="proposition">
    Let $C$ be a curve with smooth point $P\in C$. The <b>valuation on $\bar k[C]_P$</b> is given by
    $$\mapdesc{\ord_P}{\bar k[C]_P}{\Z_{\ge0}\cup\{\infty\}}f{\sup\bracks{d\in\Z:f\in\mfm_P^d}}.$$
    This extends naturally to a valuation, still denoted $\ord_P$, on $\bar k(C)=\Frac\bar k[C]_P$. A <b>uniformizer</b> for $C$ at $P$ is any function $t\in\bar k(C)$ with $\ord_P(t)=1$.
</div>
<div class="definition">
    With $C,P$ as above and $f\in\bar k(C)$, we say that $f$ has a <b>zero</b> at $P$ if $\ord_P(f)>0$, $f$ has a <b>pole</b> at $P$ if $\ord_P(f)<0$, $f$ is <b>regular</b> at $P$ if $\ord_P(f)\ge0$, and $f(P)=\infty$ if $f$ has a pole at $P$.
</div>
<div class="remark">
    Let $C/k$ be a smooth curve. Note that given some $f\in\bar k(C)$, we get an associated rational map, also denoted $f$, which is
    $$f:C\too\P^1,\text{ }\text{ }\text{ }P\longmapsto[f(P):1].$$
    This map turns out to actually be a morphism (where $[f(P):1]$ is interpreted as $[1:0]$ if $f$ has a pole at $P$), and all rational maps $C\to\P^1$ arise in this fashion (except the constant map to $[1:0]$).
</div>

Now, here's some nice information about regular functions that we'll just take for granted.
<div class="proposition">
    Let $C$ be a smooth curve and fix $f\in\bar k(C)$ with $f\neq0$. Then, there are only finitely many points of $C$ at which $f$ has a pole or zero. Furthermore, if $f$ has no poles, then $f\in\bar K$ is constant.
</div>
<div class="remark">
    Let $\phi:C_1\to C_2$ be a morphism of curves. Then, we get an induced map $\pull\phi:K(C_2)\to K(C_1)$ on function fields, $\pull\phi(f)=f\circ\phi$.
</div>
<div class="definition">
    Let $\phi:C_1\to C_2$ be a morphism of curves. We will define the <b>degree</b> $\deg\phi$ of $\phi$. If $\phi$ is constant, we set $\deg\phi=0$. Else, we set
    $$\deg\phi=\sqbracks{K(C_1):\pull\phi K(C_2)}.$$
    Furthermore, still assuming $\phi$ nonconstant, for $P\in C_1$, we define the <b>ramification index</b> (or <b>degree</b>) <b>of $\phi$ at $P$</b> to be
    $$e_\phi(P)=\ord_P(\pull\phi t_{\phi(P)}),$$
    where $t_{\phi(P)}\in K(C_2)$ is a uniformizer at $\phi(P)$. We say that $\phi$ is <b>unramified</b> at $P$ if $e_\phi(P)=1$.
</div>
<div class="proposition">
    Let $\phi:C_1\to C_2$ be a morphism of curves. Then, $\phi$ is either surjective or constant. Furthermore, when it's surjective, we have
    $$\sum_{P\in\inv\phi(Q)}e_\phi(P)=\deg\phi$$
    for every $Q\in C_2$.
</div>

WIth this, let's move onto differentials.

### Differentials

Because calculus is quite useful for doing analysis/geometry over $\R$ and $\C$, we'd like something similar for studying curves over any field $k$. 

<div class="definition">
    Let $C$ be a curve. The space of <b>meromorphic differential forms</b> on $C$, denoted $\Omega_C$ or $\omega_C$, is the $\bar k(C)$-vector space generated by symbols of the form $\dx$ with $x\in\bar k(C)$, subject to the rules
    <ul>
        <li> $\d(x+y)=\dx+\dy$ </li>
        <li> $\d(xy)=x\dy+y\dx$ </li>
        <li> $\d a=0$ </li>
    </ul>
    for all $x,y\in\bar k(C)$ and $a\in\bar k$.
</div>
<div class="remark">
    Let $\phi:C_1\to C_2$ be a nonconstant map of curves. This gives rise to an associated map of functions fields $\pull\phi:\bar k(C_2)\to\bar k(C_1),f\mapsto f\circ\phi$ as well as an induced map on differentials $\pull\phi:\Omega_{C_2}\to\Omega_{C_1}$,
    $$\pull\phi\parens{\sum f_i\dx_i}=\sum\parens{\pull\phi f_i}\d\parens{\pull\phi x_i}.$$
</div>

Now, it'll be useful to know that $\Omega_C$ is a $1$-dimensional $\bar k(C)$-vector space for any curve $C$; I will not prove this, but it's good to know. As a consequence of this (+ something else I didn't bother mentioning), any $\omega\in\Omega_C$ can be written as $\omega=g\dt$ for a unique $g\in\bar k(C)$ where $t\in\bar k(C)$ is some fixed uniformizer. We'll denote this $g$ by $\omega/\dt$. Note that the quantity $\ord_P(\omega/\dt)$ does not depend on the choice of uniformizer $t$, and so we simply denote it by $\ord_P(\omega)$. Furthermore, $\ord_P(\omega)\neq0$ for only finitely many $P\in C$ (when $\omega\neq0$). Call $\omega$ <b>holomorphic</b> (I don't know what the standard term is) is $\ord_P(\omega)\ge0$ for all $P\in C$.

### Divisors & Riemann-Roch

This is the point in this blog post where I may actually start bothering to prove things I claim. [^5] We'll state and prove one of the main tools in the study of algebraic curves: the Riemann-Roch theorem. Before we can state it though, we first need to introduce some terminology:

<div class="definition">
    Fix a curve $C$. A <b>divisor</b> $D$ on $C$ is an element of the <b>divisor group</b> $\Div(C)=\Z^{\oplus C}$, the free abelian group generated by points of $C$. That is, $D$ is a (finite) formal sum
    $$D=\sum_{P\in C}n_P[P],$$
    where $n_P\in\Z$. We denote $n_P$ by $\ord_P(D)$. The <b>degree</b> of $D$ is $\deg D=\sum_{P\in C}n_P$. Note that, if $C$ is defined over $k$, then $G_{\bar k/k}$ acts on $\Div(C)$ and we can say what it means for a divisor to be defined over $k$ (it means that $D$ is fixed by $G_{\bar k/k}$).
</div>
<div class="remark">
    Given a map $\phi:C_1\to C_2$ of curves, and a divisor $D\in\Div(C_2)$, we get a divisor $\pull\phi D\in\Div(C_1)$ defined by
    $$\pull\phi D=\sum_{Q\in C_2}\sum_{P\in\inv\phi(Q)}\ord_Q(D)e_\phi(P)[P].$$
    It is clear that $\deg(\pull\phi D)=(\deg\phi)(\deg D)$.
</div>
<div class="remark">
    When $C$ is a smooth curve, to each $f\in\units{\bar k(C)}$, we associate the divisor
    $$(f)=\div(f)=\sum_{P\in C}\ord_P(f)[P],$$
    and similarly for differentials $\omega\in\Omega_C$. In the case that $f\in\units{\bar k(C)}$, view $f$ as a map $C\to\P^1$, and note that $\div(f)=\pull fD$ where $D=[0:1]-[1:0]\in\Div(\P^1)$, so $\deg\div (f)=\deg(f)\deg D=0$.
</div>
<div class="definition">
    Divisors of the form $(f)$ are called <b>principal</b>, and form a subgroup of $\Div(C)$ since $(f)-(g)=(f/g)$. Two divisors $D_1,D_2$ are called <b>linearly equivalent</b>, denoted $D_1\sim D_2$ if $D_1-D_2$ is principal. The <b>Picard group</b> $\Pic(C)$ of $C$ is the quotient of $\Div(C)$ by its subgroup of principal divisors.
</div>
<div class="remark">
    Because $\dim_{\bar k(C)}\Omega_C=1$, we have $\omega_1=f\omega_2$ with $f\in\units{\bar k(C)}$ for any two nonzero deifferentials $\omega_1,\omega_2\in\Omega_C$. Hence, $\div(\omega_1)=\div(f)+\dim(\omega_2)$ and so we can define the <b>canonical divisor (class)</b> on $C$ to be the image of $\dim(\omega)$ in $\Pic(C)$ for any nonzero differential $\omega\in\Omega_C$.
</div>

Part of the utility of divisors is that they are a convenient way of describing the location and number of zeros/poles of functions. To make this more precise, given two divisors $D_1,D_2$, we say that $D_1\ge D_2$ if $\ord_P(D_1)\ge\ord_P(D_2)$ for all $P\in C$. If $D\ge0$, then we say that $D$ is <b>effective</b>. Note that for a function $f\in\units{\bar k(C)}$, point $P\in C$, and number $n\in\Z_{>0}$, we have $\div(f) + n[P]\ge0$ iff $f$ has a pole of order at most $n$ at $P$, and we similarly have $\div(f) - n[P]\ge0$ iff $f$ has a zero or order at least $n$ at $P$. 

<div class="definition">
    Let $D\in\Div(C)$. We associate to $D$ the $\bar k$-vector space
    $$\mc L(D)=\bracks{f\in\units{\bar k(C)}:\div(f)+D\ge0}\cup\{0\},$$
    and let $\l(D)=\dim_{\bar k}(D)$ denote its dimension.
</div>
<div class="proposition">
    Let $D\in\Div(C)$. Then, (1) $\deg D<0\implies\l(D)=0$, and (2) $\mc L(D)$ only depends (up to isomorphism) on $D$'s class in $\Pic(C)$.
</div>
<div class="proof4">
    (1) Suppose $f\in\mc L(D)$ and $f\neq0$. Then, $\div(f)+D\ge0$ so
    $$0\le\deg(\div(f)+D)=\deg\div(f)+\deg(D)=\deg(D).$$
    (2) Pick $D'\in\Div(C)$ with $D-D'=\div(g)$ ($g\in\units{\bar k(C)}$). Then the map $\mc L(D)\too\mc L(D'),f\longmapsto fg$ is an isomorphism.
</div>

A natural question to ask, and one mostly answered by Riemann-Roch, is, "Can we calculate $\l(D)$ for an arbitrary divisor?" Our main tool for getting a handle of $\l(D)$ [^6] is a certain 7-term exact sequence.

<div class="definition">
    Given a divisor $D\in\Div(C)$, define the $\bar k$-vector space
    $$\Omega(D)=\Omega_C(D)=\bracks{\omega\in\Omega_C:\dim(\omega)+D\ge0}\cup\{0\}.$$
</div>
<div class="notation">
    Given a $\bar k$-vector space $V$, let $\ast V=\dual V=\Hom_{\bar k}(V,\bar k)$ denote its dual vector space.
</div>
<div class="lemma">
    Let $C$ be a smooth curve. Fix a divisor $D\in\Div(C)$ and a point $P\in C$. Then, there is an exact sequence
    $$0\to\mc L(D-P)\to\mc L(D)\to\bar k\to\dual{\Omega(P-D)}\to\dual{\Omega(-D)}\to0.$$
</div>

Before we can prove this lemma, we have to be able to say what all these maps are. While most of them are fairly straightforward (at least when $D=0$), the map $\bar k\to\dual{\Omega(P-D)}$ is more involved. To define it, first fix a uniformizer $t\in\bar k(C)$ at $P$ (i.e. $\ord_P(t)=1$). Now, given any differential form $\omega\in\Omega_C$, we can write $\omega=g\dt$ for some unique $g\in\bar k(C)$. Forming the completion $\wh{\bar k[C]_ P}=\invlim_n\bar k[C]_ P/\mfm_P^n\bar k[C]_ P$, and letting $\bar k(C)_ P:=\Frac\parens{\wh{\bar k[C]_ P}}$, one notes that $\bar k(C)_ P$ is isomorphic to the ring of formal power series in $t$ with coefficients in $\bar k$ [^9]. This let's us write a <b>Taylor</b> (or <b>Laurent</b>) <b>expansion</b> for $g$:

$$g=\sum_{n\in\Z}a_n(g)t^n\text{ }\text{ where }\text{ }a_n(g)\in\bar k$$

and there exists some $m>0$ s.t. $n<-m\implies a_n(g)=0$. With this in mind, define

$$\res_P(\omega)=a_{-1}(g)$$

modelled after residues in complex analysis [^10]. Note that $\ord_P(g)$ is the smallest $n$ such that $a_n(g)\neq0$, so $\res_P(\omega)=0$ for any holomorphic form $\omega$. In our to be able to effectively employ residues, one needs to know the following. [^11]

<div class="lemma">
    Let $C$ be a smooth curve, and let $\omega\in\Omega_C$ be any differential form. Then,
    $$\sum_{P\in C}\res_P(\omega)=0.$$
</div>
<div class="proof4">
    First note that $\res_P(\omega)=0$ for any point $P\in C$ where $\omega$ does not have a pole. Hence, the sum under consideration is actually finite. To do show this, we'll start by showing it in the special case of $C=\P^1=\bar k\cup\{\infty\}$. In this case, $\bar k(C)=\bar k(t)$, and $t_c=t-c$ is a uniformizer at $c\in\bar k\subset\P^1$ while $t_\infty=\frac1t$ is a uniformizer at $\infty$. Now, write $\omega=g\dt$ for some $g\in\bar k(t)$. For any $c\in\bar k$, we have
    $$\omega=g\dt=g\d(t-c)=g\dt_c=g(t_c+c)\dt_c\implies\res_c(\omega)=$$
    $$\omega=g\dt=g\inv{\parens{\dt_\infty/\dt}}\dt_\infty=-gt^ 2\dt_\infty=-g(1/t_\infty)t_\infty^{-2}\implies\res_\infty(\omega)=$$
</div>

Now, we'll prove a special case of the previous lemma, and leave the construction of this exact sequence for an arbitrary divisor $D$ as an exercise.

<div class="lemma">
    Let $C$ be a smooth curve, and fix a point $P\in C$. Then, there is an exact sequence
    $$0\too\mc L(D-P)\too\mc L(D)\too\bar k\too\dual{\Omega(P-D)}\too\dual{\Omega(-D)}\too0.$$
</div>
<div class="proof4">
    We should probably start by saying what the maps are.
    <ol>
        <li> The first map $\mc L(D-P)\to\mc L(D)$ is the natural inclusion map. </li>
        <li> 
            The second map $\mc L(D)\to\bar k$ is "evaluation" at $P$, i.e. $f\mapsto (t^{\ord_P(D)}f)(P)$
        </li>
        <li> 
            The third map $\bar k\to\Omega(P-D)^\vee$ sends $c\in\bar k$ to
            $$\omega\longmapsto c\cdot\res_P(t^{-\ord_P(D)}\omega)$$
         </li>
        <li> 
            The fourth map $\dual{\Omega(P-D)}\to\dual{\Omega(-D)}$ is the natural restriction map. 
        </li>
    </ol>
    We now check exactness.
    <ul>
        <li> Exactness at $\mc L(D-P)$ is obvious because this is literally an inclusion map. </li>
        <li> Exactness at $\mc L(D)$ follows from the fact that $\mc L(D-P)$ is the space of maps $f\in\mc L(D)$ s.t. $\ord_P(f)+\ord_P(D)\ge1$. </li>
        <li> 
            Exactness at $\bar k$ is the statement that there exists $\omega\in\Omega(P-D)$ such that $\res_P(t^{-\ord_P(D)}\omega)\neq0\iff(t^{\ord_P(D)}f)(P)=0$ for all $f\in\mc L(D)$.
        </li>
    </ul>
</div>

# Elliptic Curves

### Group Law

### Isogenies

### Torsion Points

# $\l$-adic Representations

[^1]: There is a lot to explain, so I anticipate this becoming one of my longer (and also more fun) posts to date.... In the end, this became my [second post](../solving-pell) that I feel is overly ambitious and so hard to follow. If you've read some of this, please tell me how hard it is to understand so I can know for sure if I really am trying to do too much all at once.
[^2]: My main reference for this post is Silverman who doesn't use $\spec$, and rather not have to do the extra work associated with translating terminology and making sure I don't say anything false.
[^3]: This section is basically just the first chapter of Silverman because I'm unoriginal.
[^4]: Think of meromorphic maps from complex analysis
[^5]: Could you imagine how long this post would be if I did this the whole time?
[^6]: Including proving Riemann-Roch
[^7]: I've also said the word sheaf before, so I could really try to be fancy
[^8]: I'm sure things aren't as bad as I make them sound hear, but gotta set the bar low so it's easier to exceed expectations.
[^9]: At the very least, showing that the underlying additive group of this ring is formall power series can be done relatively easily in much the same manner as in my [p-adic post](../abs-val-p-adic)
[^10]: This value does not depend on the choice of uniformizer $t$, but to avoid having to show this, we fixed a canonical choice in the beginning (if you're bothered by this, show independence as an exercise).
[^11]: Working over $\C$, one can show this easily using Stoke's theorem. However, we're doing algebraic geometry, not complex geometry, so we need to be more creative